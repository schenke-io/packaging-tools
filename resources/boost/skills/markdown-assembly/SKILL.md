---
name: Modular Markdown Assembler
description: Assemble modular documentation and class references
---

## Markdown Assembler

The Markdown Assembler allows you to build complex Markdown files (like your README.md) from multiple components and source files.

### Usage in a Script

The tool is typically used in a `MakeMarkdown` script. You can generate a boilerplate script using:

```bash
// This is usually part of the automated setup
```

Example of an assembler script:

```php
use SchenkeIo\PackagingTools\Markdown\MarkdownAssembler;

$assembler = new MarkdownAssembler('resources/md');
$assembler->addTableOfContents()
    ->addMarkdown('header.md')
    ->badges()->all()
    ->addMarkdown('installation.md')
    ->addMarkdown('usage.md')
    ->classes()->all()
    ->writeMarkdown('README.md');
```

### Commands and Purpose

#### Assembler Methods

- `autoHeader()`: Adds a default header block based on project information.
- `skipWrittenBy()`: Skips the "DO NOT EDIT" warning and the footer "Markdown file generated by..." in the output file.
- `addMarkdown(string $filepath)`: Includes a markdown file from the source directory.
- `addTableOfContents()`: Adds a placeholder for the Table of Contents.
- `addText(string $content)`: Adds raw markdown text directly.
- `addContentProvider(MarkdownPieceInterface $provider)`: Adds a custom component that implements the `MarkdownPieceInterface`.
- `image(string $text, string $path, string $url)`: Adds an image with alt text, local path, and optional link URL.
- `writeMarkdown(string $filepath)`: Finalizes the assembly and writes the content to the specified file.

#### Badges: `badges()`

Returns a `Badges` component for adding project badges.

- `all()`: Adds all automatically detected badges (Version, Test, Downloads, Coverage, etc.).
- `version(BadgeStyle $badgeStyle)`: Adds a version badge from Packagist.
- `test(string $workflowFile, BadgeStyle $badgeStyle, string $branch = 'main')`: Adds a GitHub Actions test status badge.
- `download(BadgeStyle $badgeStyle)`: Adds a total downloads badge from Packagist.
- `php(BadgeStyle $badgeStyle)`: Adds a PHP version requirement badge.
- `local(string $text, string $path)`: Adds a link to a local SVG file.
- `forge(string $hash, int $server, int $site, int $date = 1, int $label = 1, BadgeStyle $badgeStyle = BadgeStyle::FlatSquare)`: Adds a Laravel Forge deployment status badge.

#### Classes: `classes()`

Returns a `Classes` component for documenting PHP classes.

- `all()`: Automatically documents all classes found in the `src/` directory.
- `add(string $classname)`: Documents a single class by its fully qualified name.
- `glob(string $pattern)`: Documents all classes matching a file pattern (e.g., `src/Models/*.php`).
- `custom(string $classname, Closure $callback)`: Documents a class using a custom rendering callback.

#### Tables: `tables()`

Returns a `Tables` component for creating Markdown tables.

- `fromFile(string $filepath)`: Reads table data from a CSV, TSV, or PSV file.
- `fromCsvString(string $csv, string $delimiter)`: Parses table data from a formatted string.
- `fromArray(array $data)`: Builds a table directly from a PHP array.

#### Table of Contents: `toc()`

Returns a `TOC` component for generating a linked Table of Contents.
